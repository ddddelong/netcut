<script setup lang="ts">
import {ElMessage, ElMessageBox} from 'element-plus'
import useUserStore from "@/stores/user.ts";

const userStore = useUserStore();

const goBack = () => {
  ElMessageBox.confirm(
      `è¿™å°±èµ·é©¾å›å®«äº†ï¼Ÿçˆ±å¦ƒè¿˜åœ¨åå®«ç­‰æ‚¨å‘¢ï¼`,
      'é™›ä¸‹ä¸‰æ€å•Šï¼ğŸ«£',
      {
        confirmButtonText: 'ç‹ å¿ƒç¦»å»ğŸ’”',
        cancelButtonText: 'å†é™ªæœ•ä¸€ä¼šğŸ¥º',
        type: 'error',
      }
  )
      .then(async () => {
        await userStore.logout()
        ElMessage({
          type: 'success',
          message: 'æ­é€é™›ä¸‹ï¼æœŸå¾…æ‚¨çš„ä¸‹æ¬¡ç¿»ç‰Œ~â¤ï¸',
        })
      })
      .catch(() => {
        ElMessage({
          type: 'info',
          message: 'é™›ä¸‹è‹±æ˜ï¼è‡£å°±çŸ¥é“æ‚¨èˆä¸å¾—è¿™å¤§å¥½æ±Ÿå±±ï½ğŸ˜˜',
        })
      })
}
</script>

<template>
  <div class="logout">
    <el-page-header @back="goBack" title="æ”¾æˆ‘å‡ºå»">
      <template #content>
        <span class="text-large font-600 mr-3 title"> NetCut </span>
      </template>
    </el-page-header>
  </div>
</template>

<style scoped>
.logout {
  margin: 10px;
}

.title {
  font-size: 26px;
  font-weight: 700;
  background: linear-gradient(45deg, #667eea, #764ba2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: 1px;
}
</style>